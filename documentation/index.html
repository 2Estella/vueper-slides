<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Vueper Slides Demo</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- DEV -->

    <script src="../node_modules/vue/dist/vue.js"></script>
    <script src="../node_modules/vuetify/dist/vuetify.js"></script>
    <script src="../dist/vueperslides.umd.js"></script>

    <link href='https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons' rel="stylesheet">
    <script src="../node_modules/vuetify/dist/vuetify.css"></script>
    <!-- <link href="https://unpkg.com/vuetify/dist/vuetify.min.css" rel="stylesheet"> -->
    <link href="./page.css" rel="stylesheet" />


    <!-- PROD -->
    <!--
    <script src="https://unpkg.com/vue/dist/vue.min.js"></script>
    <script src="https://unpkg.com/vuetify/dist/vuetify.min.js"></script>
    <script src="../dist/vueperslides.umd.js"></script>

    <link href='https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons' rel="stylesheet">
    <link href="https://unpkg.com/vuetify/dist/vuetify.min.css" rel="stylesheet">
    <link href="./page.css" rel="stylesheet" />
    -->

    <style>
    .vueperslides__slide {
      position: relative;
      background-position: bottom;
    }

    .vueperslides__slide-content--outside {
      position: static;
      transform: none;
      text-align: left;
      color: #444;
    }

    .vueperslides__slide .vueperslides__slide-content {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
      color: #fff;
      font-family: Tahoma, Geneva, sans-serif;
      text-shadow: 0 0 4px rgba(0, 0, 0, 0.3);
    }

    .vueperslides__slide-content .slide-title {
      font-size: 2em;
    }

    .vueperslides__slide-content .slide-content {
      font-style: italic;
    }

    .vueperslides__slide-content--outside .content {
      padding-left: 2em;
      margin-top: 0;
    }

    .vueperslides__slide .vueperslides__slide-content .slide-content {
      position: relative;
      top: 3em;
    }

    .ex1 .vueperslides__slide {
      background: linear-gradient(-45deg, #EE7752, #E73C7E, #23A6D5, #23D5AB);
      background-size: 400% 400%;
      -webkit-animation: gradient 15s ease infinite;
      -moz-animation: gradient 15s ease infinite;
      animation: gradient 15s ease infinite;
    }

    .ex1 .slide-title {
      font-size: 7em;
      opacity: 0.6;
    }

    .ex3 .vueperslides__bullet {
      background-color: rgba(0, 0, 0, 0.3);
      border: none;
      box-shadow: none;
      transition: 0.3s;
    }

    .ex3 .vueperslides__bullet--active {
      background-color: #ff5252;
    }

    @-webkit-keyframes gradient {
      0% {
        background-position: 0% 50%
      }
      50% {
        background-position: 100% 50%
      }
      100% {
        background-position: 0% 50%
      }
    }

    @-moz-keyframes gradient {
      0% {
        background-position: 0% 50%
      }
      50% {
        background-position: 100% 50%
      }
      100% {
        background-position: 0% 50%
      }
    }

    @keyframes gradient {
      0% {
        background-position: 0% 50%
      }
      50% {
        background-position: 100% 50%
      }
      100% {
        background-position: 0% 50%
      }
    }
    </style>
  </head>
  <body>
    <div id="app">
      <header>
        <div class="page__title">
          <svg class="page__logo" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 442 442">
            <g>
              <path d="M166.636,225.195c3.941,15.981,27.265,26.307,59.421,26.307c24.085,0,39.358-8.799,45.619-17.032
              c4.127-5.425,5.304-11.479,3.498-17.994c-3.601-12.994-22.35-19.318-52.796-28.189l-8.495-2.479
              c-31.046-9.043-66.234-19.293-73.691-46.198c-3.764-13.58-1.119-27.262,7.447-38.526c0.341-0.448,0.694-0.889,1.052-1.328
              c2.441-2.992,2.942-7.122,1.287-10.611c-1.656-3.489-5.172-5.712-9.034-5.712h-35.127c-2.912,0-5.679,1.269-7.579,3.476l-43.038,50
              c-3.228,3.75-3.228,9.297,0,13.048l74.285,86.302c2.859,3.32,7.544,4.393,11.563,2.648c4.019-1.745,6.433-5.903,5.958-10.258
              c-0.54-4.949,2.697-9.58,7.531-10.771c0.795-0.196,1.605-0.295,2.409-0.295C161.546,217.583,165.532,220.713,166.636,225.195z
               M149.746,198.46c-6.929,1.708-12.766,5.77-16.8,11.164l-56.974-66.191l34.431-40h12.92c-5.458,12.997-6.348,27.293-2.405,41.518
              c10.435,37.647,53.094,50.074,87.369,60.057l8.493,2.478c8.507,2.479,18.15,5.289,26.049,8.284
              c8.659,3.285,11.886,5.539,12.992,6.508c-0.02,0.026-0.04,0.054-0.062,0.083c-2.794,3.674-13.009,9.14-29.7,9.14
              c-27.185,0-39.002-8.284-40.002-11.095c-3.313-13.438-15.284-22.824-29.112-22.824C154.527,197.583,152.106,197.879,149.746,198.46
              z" />
              <path d="M263.197,264.516c-10.906,4.57-23.749,6.986-37.14,6.986c-18.762,0-35.732-3.221-49.077-9.313
              c-4.274-1.952-9.329-0.665-12.149,3.091c-2.821,3.756-2.648,8.969,0.417,12.53l48.173,55.966c1.9,2.207,4.667,3.476,7.579,3.476
              s5.679-1.269,7.579-3.476l46.062-53.513c3.026-3.516,3.237-8.651,0.51-12.403C272.424,264.107,267.476,262.723,263.197,264.516z
               M221,311.922l-19.034-22.113c7.686,1.12,15.757,1.692,24.091,1.692c4.414,0,8.791-0.224,13.093-0.666L221,311.922z" />
              <path d="M336.185,83.434h-36.583c-3.924,0-7.485,2.295-9.106,5.867c-1.622,3.573-1.004,7.764,1.58,10.717
              c7.581,8.665,11.425,18.845,11.425,30.258c0,5.514-4.486,10-10,10s-10-4.486-10-10c0-25.24-34.223-36.538-68.141-36.538
              c-27.285,0-44.649,10.049-51.802,19.454c-4.832,6.353-6.208,13.444-4.093,21.076c4.159,15.004,27.497,22.868,60.008,32.337
              l8.496,2.479c30.671,8.937,59.641,17.377,66.479,42.049c1.536,5.544,1.931,11.109,1.174,16.54
              c-0.612,4.393,1.743,8.665,5.785,10.493c1.325,0.599,2.727,0.889,4.116,0.889c2.847,0,5.637-1.217,7.583-3.477l73.698-85.62
              c3.228-3.75,3.228-9.297,0-13.048l-43.038-50C341.864,84.703,339.097,83.434,336.185,83.434z M313.378,204.602
              c-10.316-34.469-47.216-45.221-79.811-54.718l-8.497-2.479c-9.928-2.892-21.182-6.17-30.645-9.91
              c-12.553-4.962-15.322-8.215-15.757-8.831c-0.352-1.365-0.253-1.969,0.809-3.365c3.041-3.999,14.455-11.561,35.883-11.561
              c27.553,0,48.141,8.732,48.141,16.538c0,16.542,13.458,30,30,30s30-13.458,30-30c0-9.448-1.934-18.504-5.679-26.842h13.777
              l34.431,40L313.378,204.602z" />
              <path d="M439.579,136.91l-77.468-90c-1.9-2.207-4.667-3.476-7.579-3.476H87.468c-2.912,0-5.679,1.269-7.579,3.476l-77.468,90
              c-3.228,3.75-3.228,9.297,0,13.048l211,245.132c1.9,2.207,4.667,3.477,7.579,3.477s5.679-1.27,7.579-3.477l211-245.132
              C442.807,146.208,442.807,140.661,439.579,136.91z M221,373.238L23.194,143.434l68.861-80h257.89l68.861,80L221,373.238z"
              />
          </svg>
          <h1>Vueper Slides</h1>
        </div>
      </header>

      <p class="intro">Vueper Slides is an easy to use responsive & touch-ready slideshow made for VueJS.
        <br>Inspired by <a href="http://kenwheeler.github.io/slick/" target="_blank">Slick</a>.</p>

      <v-layout class="max-widthed" row align-center>
        <p>Vueper Slides comes with a minimum of styling (using the <i>BEM</i> convention).<br>
          You can easily override it, the aim is to let users have their own styles.</p>
        <v-spacer></v-spacer>
        <div class="coming-soon">
          <h4>Coming soon...</h4>
          <ul>
            <li>Emit events</li>
            <li>Breakpoints</li>
            <li>Center mode</li>
            <li>Nav for</li>
            <li>Slides to scroll at once</li>
            <li>Dragging distance</li>
            <li>Slide with keyboard arrows</li>
            <li>Add slides on the fly</li>
            <li>Lazy loading</li>
            <li>Remove / disable</li>
          </ul>
        </div>
        <v-spacer></v-spacer>
      </v-layout>

      <a name="installation"></a>
      <h2><a href="#installation">Installation</a></h2>
      <h3>NPM - Coming Soon!</h3>
      <precode>npm install vueper-slides --save</precode>

      <h3>Browser Use</h3>
      <p>Place this in your document &lt;head&gt;</p>
      <precode language="html">&lt;head&gt;
  ...
  &lt;script src="https://unpkg.com/vue/dist/vue.min.js"&gt;&lt;/script&gt;
  &lt;script src="https://unpkg.com/vuetify/dist/vuetify.min.js"&gt;&lt;/script&gt;
  &lt;script src="../dist/vueperslides.umd.js"&gt;&lt;/script&gt;
  &lt;link href="https://unpkg.com/vuetify/dist/vuetify.min.css" rel="stylesheet"&gt;
&lt;/head&gt;</precode>
      <p>Then use like this:</p>
      <precode language="html-vue">&lt;vueper-slides&gt;
  &lt;vueper-slide v-for="i in 5" :key="i" :title="i"&gt;&lt;/vueper-slide&gt;
&lt;/vueper-slides&gt;</precode>

      <a name="vueper-slides-api"></a>
      <h2><a href="#vueper-slides-api">&lt;vueper-slides&gt; API</a></h2>
      <p>This is the main tag for the slider.<br>
        You can set different options in html attributes.<br>
        You can also override the default arrows and `paused` indicator if you want.
      </p>
      <a name="vueper-slides-settings"></a>
      <h3><a href="#vueper-slides-settings">Settings</a></h3>
      <p>Settings</p>
      <precode>initSlide: [Number], default: 1
slideRatio: [Number], default: 1/3
bullets: [Boolean], default: true
arrows: [Boolean], default: true
fade: [Boolean], default: false
slideContentOutside: [Boolean], default: false
slideContentOutsideClass: [String], default: ""
bulletsOutside: [Boolean], default: false
autoplay: [Boolean], default: false
speed: [Number, String], default: 4000
pauseOnHover: [Boolean], default: true
infinite: [Boolean], default: true
touchable: [Boolean], default: true</precode>

      <a name="events"></a>
      <h3><a href="#events">Events - IN PROGRESS</a></h3>
      <p><code>before-init</code></p>
      <p><code>ready</code></p>
      <p><code>before-slide</code></p>
      <p><code>slide</code></p>

      <a name="vueper-slide-api"></a>
      <h2><a href="#vueper-slide-api">&lt;vueper-slide&gt; API</a></h2>
      <a name="vueper-slide-settings"></a>
      <h3><a href="#vueper-slide-settings">Settings</a></h3>
      <p>Settings</p>

      <a name="examples"></a>
      <h2><a href="#examples">Examples of Use</a></h2>

      <a name="ex--simplest-ever"></a>
      <h3><a href="#ex--simplest-ever">Simplest Ever</a></h3>
      <precode language="html-vue">&lt;vueper-slides&gt;
  &lt;vueper-slide v-for="i in 5" :key="i" :title="i"&gt;&lt;/vueper-slide&gt;
&lt;/vueper-slides&gt;</precode>
      <vueper-slides class="ex1">
        <vueper-slide v-for="i in 5" :key="i" :title="i.toString()"></vueper-slide>
      </vueper-slides>

      <a name="ex--basic"></a>
      <h3><a href="#ex--basic">Basic with Autoplay</a></h3>
      <p>This example uses autoplay, slide titles & contents.<br>
        <em>The autoplay circles between all the slides and goes back to the begining after the last slide.</em></p>
      <precode language="html-vue">&lt;vueper-slides autoplay&gt;
  &lt;v-icon slot="pausedIcon" large color="white"&gt;pause&lt;/v-icon&gt;
  &lt;vueper-slide v-for="(slide, i) in slides"
    :key="slide.id"
    :title="slide.title"
    :content="slide.content"
    :style="'background-color: ' + colors[i % 4]"&gt;&lt;/vueper-slide&gt;
&lt;/vueper-slides&gt;</precode>
      <vueper-slides class="ex2" autoplay :infinite="true">
        <v-icon slot="pausedIcon" large color="white">pause</v-icon>
        <vueper-slide
          v-for="(slide, i) in slides"
          :key="slide.id"
          :title="slide.title"
          :content="slide.content"
          :style="'background-color: ' + colors[i % 4]"
        ></vueper-slide>
      </vueper-slides>

      <a name="ex--arrows-and-bullets"></a>
      <h3><a href="#ex--arrows-and-bullets">Arrows & bullets</a></h3>
      <p>This example uses custom arrows and positions the bullets outside of the slideshow.<br>
        You can also disable arrows or bullets. E.g.<code>:arrows="false"</code>, <code>:bullets="false"</code></p>
      <precode language="html-vue">&lt;vueper-slides :infinite="false" :bullets-outside="true"&gt;
  &lt;v-icon slot="arrowLeft" large&gt;arrow_left&lt;/v-icon&gt;
  &lt;v-icon slot="arrowRight" large&gt;arrow_right&lt;/v-icon&gt;
  &lt;vueper-slide
    v-for="(slide, i) in slides"
    :key="slide.id"
    :title="slide.title"
    :content="slide.content"
    :style="'background-color: ' + colors[(i + 1) % 4]"&gt;&lt;/vueper-slide&gt;
&lt;/vueper-slides&gt;</precode>
      <vueper-slides class="ex3" :infinite="false" :bullets-outside="true">
        <v-icon slot="arrowLeft" x-large>undo</v-icon>
        <v-icon slot="arrowRight" x-large>redo</v-icon>
        <vueper-slide
          v-for="(slide, i) in slides"
          :key="slide.id"
          :title="slide.title"
          :content="slide.content"
          :style="'background-color: ' + colors[(i + 1) % 4]"
        ></vueper-slide>
      </vueper-slides>

      <a name="ex--images-and-fading"></a>
      <h3><a href="#ex--images-and-fading">Images & Fading</a></h3>
      <p>This example uses <b>images</b> and <b>fading</b> as the slide transition.</br>
        The <b>dragging</b> ability to change slide is <b>disabled</b>.<br>
        The current slide title & content are shown <b>outside</b> of the slider.
        <br>Of course you can position it with a bit of CSS.</p>
      <precode language="html-vue">&lt;vueper-slides&gt;
  &lt;vueper-slide
    v-for="slide in slides2"
    :key="slide.id"
    :image="'images/' + slide.image"
    :title="'# ' + slide.title"
    :content="slide.content"&gt;&lt;/vueper-slide&gt;
&lt;/vueper-slides&gt;</precode>
      <vueper-slides
        fade
        :slide-content-outside="true"
        slide-content-outside-class="max-widthed"
        :touchable="false"
        :slide-ratio="0.3">
        <vueper-slide
          v-for="slide in slides2"
          :key="slide.id"
          :image="'images/' + slide.image"
          :title="'# ' + slide.title"
          :content="slide.content"
        ></vueper-slide>
      </vueper-slides>

      <a name="ex--events"></a>
      <h3><a href="#ex--events">Events - IN PROGRESS</a></h3>
      <p>This example demonstrates how to use the vueper slides provided events.</br>
        The box bellow will be populated by all the events triggered while using the slideshow.</p>
      <pre style="min-height: 120px">listening...<p v-html="events"></p></pre>
      <vueper-slides
        @before-init="logEvents('before init')"
        @ready="logEvents('ready')"
        @before-slide="logEvents('before slide')"
        @slide="logEvents('slide')"
        :slide-ratio="0.1">
        <vueper-slide
          v-for="i in 6"
          :key="i"
          :title="i.toString()"
          :style="'background-color: ' + ['#ff5252', '#42b983'][i % 2]"></vueper-slide>
      </vueper-slides>
    </div>

    <script>
      Vue.component('precode', {
        template: '<pre v-html="content" :data-type="language"></pre>',
        props: [
          'language'
        ],
        data: () => ({
          content: ''
        }),
        methods: {
          htmlize (string) {
            return string.replace(/&(lt|gt|amp);/g, function (m0, m1) { return { lt: '<', gt: '>', amp: '&' }[m1] })
          },
          unhtmlize (string) {
            return string.replace(/[<>]/g, function (m) { return { '<': '&lt;', '>': '&gt;' }[m] })
          },

          processContent (string) {
            if (this.language === 'html' || this.language === 'html-vue') {
              string = this.unhtmlize(string)

              let regexBasics =
                {
                  quote: /("(?:\\"|[^"])*")|('(?:\\'|[^'])*')/,// Match simple and double quotes by pair.
                  comment: /(\/\/.*|\/\*[\s\S]*?\*\/)/,// Comments blocks (/* ... */) or trailing comments (// ...).
                  htmlTag: /(<([^>])*>)/,
                  ponctuation: /(!==?|(?:[\[\](){}.:;,+\-?=]|&lt;|&gt;)+|&&|\|\|)/,// Ponctuation not in html tag.
                  number: /(-?(?:\.\d+|\d+(?:\.\d+)?))/,
                  boolean: /\b(true|false)\b/,
                },
                dictionnary =
                  {
                    xml:
                      {
                        quote: regexBasics.quote,
                        comment: /(&lt;!--[\s\S]*?--&gt;)/,
                        tag: /(&lt;\/?)([a-zA-Z\-\:]+)(.*?)(\/?&gt;)/,
                        // Treated inside tag because javascript does not support lookbehind,
                        // so be more specific inside tag first match:
                        // ponctuation: /([=/]+|&lt;\/?|\/?&gt;)/,
                        // tagName: /([a-z]\w+)\b/,
                        // attribute:   /([a-zA-Z\-]+)(?=\s*(?:=|\/?&gt;))/,
                      },
                    html:
                      {
                        quote: regexBasics.quote,
                        comment: /(&lt;!--[\s\S]*?--&gt;)/,
                        tag: /(&lt;\/?)([a-z]\w*)(.*?)(\/?&gt;)/,
                        // Treated inside tag because javascript does not support lookbehind,
                        // so be more specific inside tag first match:
                        // ponctuation: /([=/]+|&lt;\/?|\/?&gt;)/,
                        // tagName: /([a-z]\w+)\b/,
                        // attribute:   /([a-zA-Z\-]+)(?=\s*(?:=|\/?&gt;))/,
                      },
                    "html-vue":
                      {
                        quote: regexBasics.quote,
                        comment: /(&lt;!--[\s\S]*?--&gt;)/,
                        tag: /(&lt;\/?)([a-z][a-z_\-]*)((?:.|\s)*?)(\/?&gt;)/,
                        // Treated inside tag because javascript does not support lookbehind,
                        // so be more specific inside tag first match:
                        // ponctuation: /([=/]+|&lt;\/?|\/?&gt;)/,
                        // tagName: /([a-z]\w+)\b/,
                        // attribute:   /([a-zA-Z\-]+)(?=\s*(?:=|\/?&gt;))/,
                      },
                    css:
                      {
                        quote: regexBasics.quote,
                        comment: /(\/\*[\s\S]*?\*\/)/,
                        pseudo: /(:(?:hover|active|focus|visited|before|after|(?:first|last|nth)-child))/,
                        "selector keyword vendor": /(@-(?:moz|o|webkit|ms)-(?=keyframes\s))/,
                        "selector keyword": /((?:@(?:import|media|font-face|keyframes)|screen|print|and)(?=[\s({])|keyframes|\s(?:ul|ol|li|table|div|pre|p|a|img|br|hr|h[1-6]|em|strong|span|html|body|iframe|video|audio|input|button|form|label|fieldset|small|abbr|i|dd|dt)\b)/,
                        selector: /((?:[.#-\w\*+ >:,~\n]|&gt;)+)(?=\s*\{)/,// Any part before '{'.
                        "attribute keyword vendor": /(-(?:moz|o|webkit|ms)-(?=transform|transition|user-select|animation|background-size|box-shadow))/,
                        "attribute keyword": /\b(content|float|display|position|top|left|right|bottom|(?:(?:max|min)-)?width|(?:(?:max|min|line)-)?height|font(?:-(?:family|style|size|weight|variant|stretch))?|vertical-align|color|opacity|visibility|z-index|transform(?:-(?:origin|style|delay|duration|property|timing-function))?|transition(?:-(?:delay|duration))?|animation(?:-(?:name|delay|duration|direction|fill-mode))?|background(?:-(?:color|position|image|repeat|size))?|(?:padding|margin|border)(?:-(?:top|left|right|bottom))?|border(?:-radius)|white-space|text-(?:align|transform|decoration|shadow|indent)|overflow(?:-(?:x|y))?|letter-spacing|box-(?:sizing|shadow)|stroke(?:-(?:width|opacity|dasharray|dashoffset|linecap|linejoin))?|fill|speak|outline|user-select|cursor)(?=\s*:)/,
                        "value keyword vendor": /(-(?:moz|o|webkit|ms)-(?=linear-gradient))/,
                        "value keyword": /\b(inline-block|inline|block|absolute|relative|static|fixed|inherit|initial|none|auto|hidden|visible|top|left|right|bottom|center|middle|baseline|pre|wrap|nowrap|(?:upper|lower)case|capitalize|linear(?:-gradient)?|ease(?:-in)?(?:-out)?|all|infinite|cubic-bezier|(?:translate|rotate)(?:[X-Z]|3d)?|skew[XY]?|scale|(?:no-)?repeat|repeat(?:-x|-y)|contain|cover|!important|url|inset|pointer|flex)(?=\s*[,;}(]|\s+[\da-z])/,
                        number: regexBasics.number,
                        color: /(transparent|#(?:[\da-fA-F]{6}|[\da-fA-F]{3})|rgba?\([\d., ]*\))/,
                        // ponctuation: /([:,;{}@#()]+)/,// @todo Why can't use this one if text contains '<' or '>' ??
                        htmlentity: /(&.*?;)/,
                        ponctuation: /([:,;{}@#()]+|&lt;|&gt;)/,
                        attribute: /([a-zA-Z\-]+)(?=\s*:)/,
                        unit: /(px|pt|%|r?em|m?s|deg|vh|vw|vmin|vmax)(?=(?:\s*[;,{}}\)]|\s+[\-\da-z#]))/
                      },
                    json:
                      {
                        quote: regexBasics.quote,
                        comment: regexBasics.comment,
                        number: regexBasics.number,
                        boolean: regexBasics.boolean,
                        ponctuation: /([\[\](){}:;,\-]+)/,// Override default to simplify.
                      },
                    js:
                      {
                        quote: regexBasics.quote,
                        comment: regexBasics.comment,
                        number: /\b(\d+(?:\.\d+)?|null)\b/,
                        boolean: regexBasics.boolean,
                        keyword: /\b(new|getElementsBy(?:Tag|Class|)Name|getElementById|arguments|if|else|do|return|case|default|function|typeof|undefined|instanceof|this|document|window|while|for|switch|in|break|continue|length|var|(?:clear|set)(?:Timeout|Interval)|Math(?=\.)|Date)(?=\W)/,
                        ponctuation: /(!==?|(?:[\[\](){}:;,+\-%*\/?=]|&lt;|&gt;)+|\.+(?![a-zA-Z])|&amp;&amp;|\|\|)/,// Override default since '.' can be part of js variable.
                        variable: /(\.?[a-zA-Z]\w*)/,
                        htmlentity: /(&.*?;)/,
                        dollar: /(\$|jQuery)(?=\W|$)/,// jQuery or $.
                      },
                    php:
                      {
                        quote: regexBasics.quote,
                        comment: regexBasics.comment,
                        ponctuation: regexBasics.ponctuation,
                        number: regexBasics.number,
                        boolean: regexBasics.boolean,
                        keyword: /\b(define|echo|die|print_r|var_dump|if|else|do|return|case|default|function|\$this|while|for|switch|in|break|continue)(?=\W|$)/,
                        variable: /(?:(?=\W))(\$\w+)/
                      },
                    sql:
                      {
                        quote: regexBasics.quote,
                        comment: regexBasics.comment,
                        ponctuation: regexBasics.ponctuation,
                        number: /\b(\d+(?:\.\d+)?|null)\b/,
                        boolean: regexBasics.boolean,
                        keyword: /\b(\*|CREATE|ALL|DATABASE|TABLE|GRANT|PRIVILEGES|IDENTIFIED|FLUSH|SELECT|UPDATE|DELETE|INSERT|FROM|WHERE|(?:ORDER|GROUP) BY|LIMIT|(?:(?:LEFT|RIGHT|INNER|OUTER) |)JOIN|AS|ON|COUNT|CASE|TO|IF|WHEN|BETWEEN|AND|OR|CONCAT)(?=\W|$)/
                      }
                  },
                classMap = [],
                regexPattern = ''

              for (let Class in dictionnary[this.language]) {
                classMap.push(Class)

                if (Class === 'quote') {
                  // Add twice cause 2 captures in quote regexp.
                  classMap.push(Class)
                }

                if ((this.language === 'html' || this.language === 'html-vue' || this.language === 'xml') && Class === 'tag') {
                  classMap.push(Class, Class, Class)
                }

                regexPattern += (regexPattern ? '|' : '') + dictionnary[this.language][Class].source
              }

              let VueInstance = this
              string = string.replace(new RegExp(regexPattern, 'g'), function () {
                let match, Class,
                  // "arguments.length - 2" because the function is called with arguments like so:
                  // function(strMatch, c1, c2, ..., cn, matchOffset, sourceString){}. With c = the captures.
                  dictionnaryMatches = Array.prototype.slice.call(arguments, 1, arguments.length - 2)
                  for (let i = 0; i < dictionnaryMatches.length; i++) {
                    if (dictionnaryMatches[i]) {
                      match = dictionnaryMatches[i]
                    Class = classMap[i]

                    break
                  }
                }

                if (Class === 'quote') match = VueInstance.unhtmlize(arguments[1] || arguments[2])
                if (Class === 'comment') match = VueInstance.unhtmlize(match)
                if (Class === 'tag' && (VueInstance.language === 'html' || VueInstance.language === 'html-vue' || VueInstance.language === 'xml')) {
                  let tagPieces = dictionnaryMatches.slice(3),
                    xmlAttributesRegex = /(\s*)([a-zA-Z\-:]+)=("|')(.*?)\3/g,
                    htmlAttributesRegex = /(\s*)([a-zA-Z\-]+)=("|')(.*?)\3/g,
                    htmlVueAttributesRegex = /(\s*)(:?[a-zA-Z\-]+)(?:(?:=("|')(.*?)\3)|)/g,
                    renderAttributesList = function () {
                      return arguments[1] + '<span class="attribute">' + arguments[2] + '</span>'
                        + (arguments[4] ? '<span class="ponctuation">=</span>' : '')
                        + '<span class="quote">' + (arguments[3] || '') + (arguments[4] || '') + (arguments[3] || '') + '</span>'
                    }

                  let htmlTag = '<span class="ponctuation">' + tagPieces[0] + '</span>'
                           + '<span class="tag-name">' + tagPieces[1] + '</span>'

                  if (VueInstance.language === 'xml') {
                    htmlTag += (tagPieces[2] || '').replace(xmlAttributesRegex, renderAttributesList)
                  } else if (VueInstance.language === 'html') {
                    htmlTag += (tagPieces[2] || '').replace(htmlAttributesRegex, renderAttributesList)
                  } else if (VueInstance.language === 'html-vue') {
                    htmlTag += (tagPieces[2] || '').replace(htmlVueAttributesRegex, renderAttributesList)
                  }

                  htmlTag += '<span class="ponctuation">' + tagPieces[3] + '</span>'

                  return htmlTag
                }

                if (Class === 'color' && VueInstance.language === 'css') {
                  const styles = ' style="background-color:' + match + ';color: #' + (isColorDark(match) ? 'fff' : '000') + '"'
                }
                if (Class === 'variable' && match[0] === '.' && VueInstance.language === 'js') {
                  /**
                   * @todo don't apply variable color if char before '.' is not '\w'.
                   */
                  return '<span class="ponctuation">.</span><span class="objAttr">' + match.substr(1) + '</span>'
                }

                return '<span class="' + Class + '"' + (styles !== undefined ? styles : '') + '>' + match + '</span>'
              })
            }

            return string
          }
        },
        created () {
          this.$slots.default.forEach(pieceOfCode => {
            if (pieceOfCode.text) {
              // console.log(pieceOfCode)
              this.content += pieceOfCode.text
            }
          })
          this.content = this.processContent(this.content)
        }
      })

      Vue.use(Vuetify, {
          theme: {
            primary: '#00BCD4',
            secondary: '#666',
            maintext: '#999',
            lightgrey: '#f4f4f4',
            // Default Vuetify colors.
            // secondary: '#424242',
            // accent: '#82B1FF',
            // error: '#FF5252',
            // info: '#2196F3',
            // success: '#4CAF50',
            // warning: '#FFC107'
          }
        })

      new Vue({
        el: '#app',
        data: () => ({
          events: '',
          colors: [
            '#4caf50',
            '#2196f3',
            '#ffc107',
            '#ff5252'
          ],
          slides: [
            {
              id: 'slide-1',
              title: 'Slide <b style="font-size: 1.3em;color: yellow">#1</b>',
              content: 'Slide title can be HTML.<br>And so does the slide content, <span style="font-size: 1.2em;color: yellow">why not?</span>'
            },
            {
              id: 'slide-2',
              title: 'Slide <b style="font-size: 1.3em;color: #ff5252">#2</b>',
              content: 'Slide 2 content.'
            },
            {
              id: 'slide-3',
              title: 'Slide 3',
              content: 'Slide 3 content.'
            },
            {
              id: 'slide-4',
              title: 'Slide 4',
              content: 'Slide 4 content.'
            },
            {
              id: 'slide-5',
              title: 'Slide 5',
              content: 'Slide 5 content.'
            },
            {
              id: 'slide-6',
              title: 'Slide 6',
              content: 'Slide 6 content.'
            },
            {
              id: 'slide-7',
              title: 'Slide 7',
              content: 'Slide 7 content.'
            },
            {
              id: 'slide-8',
              title: 'Slide 8',
              content: 'Slide 8 content.'
            }
          ],
          slides2: [
            {
              id: 'mountain-1',
              image: 'rough-horn-2146181_1280.jpg',
              title: 'Mountain 1',
              content: 'Slide 1 content.'
            },
            {
              id: 'mountain-2',
              image: 'snow-3212345_1280.jpg',
              title: 'Mountain 2',
              content: 'Slide 2 content.'
            },
            {
              id: 'mountain-3',
              image: 'snow-3237630_1280.jpg',
              title: 'Mountain 3',
              content: 'Slide 3 content.'
            }
          ]
        }),

        methods: {
          logEvents (eventName) {
            this.events += eventName + '<br>'
          }
        }
      })
    </script>
  </body>
</html>
