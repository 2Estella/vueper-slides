{"version":3,"file":"vueperslides.js","sources":["../src/components/VueperSlide.vue","../src/components/VueperSlides.vue","../src/index.js"],"sourcesContent":["<template lang=\"pug\">\ndiv(:class=\"{ 'vueperslides__slide': true, 'vueperslides__slide--active': $parent.slides.activeUid === _uid }\" :style=\"styles\")\n  div.vueperslides__slide-content(v-show=\"!$parent.conf.slideContentOutside && (title || hasTitleSlotData || content || hasContentSlotData)\")\n    div.slide-title(v-if=\"title || hasTitleSlotData\")\n      slot(name=\"slideTitle\")\n      div(v-if=\"title\" v-html=\"title\")\n    div.slide-content(v-if=\"content || hasContentSlotData\")\n      slot(name=\"slideContent\")\n      div(v-if=\"content\" v-html=\"content\")\n</template>\n\n<script>\nexport default {\n  props: {\n    clone: {\n      type: Number,\n      default: null\n    },\n    image: {\n      type: String,\n      default: ''\n    },\n    title: {\n      type: String,\n      default: ''\n    },\n    content: {\n      type: String,\n      default: ''\n    }\n  },\n  mounted () {\n    if (this.hasTitleSlotData) this.$parent.updateSlideContent(this._uid, 'titleSlot', this.titleSlot)\n    if (this.hasContentSlotData) this.$parent.updateSlideContent(this._uid, 'contentSlot', this.contentSlot)\n  },\n  created () {\n    this.$parent.addSlide({\n      _uid: this._uid,\n      image: this.image,\n      title: this.title,\n      content: this.content,\n      clone: this.clone\n    })\n  },\n  // When removing a slide programmatically, remove it from the config so vueperslides\n  // component is aware of the change.\n  destroyed () {\n    if (this.clone === null) this.$parent.removeSlide(this._uid)\n  },\n  computed: {\n    styles () {\n      return { ...(this.image && { backgroundImage: `url(${this.image})` }) }\n    },\n  \thasTitleSlotData () {\n      return this.$slots.slideTitle\n    },\n  \thasContentSlotData () {\n      return this.$slots.slideContent\n    },\n  \ttitleSlot () {\n      return this.hasTitleSlotData ? this.$slots.slideTitle[0].elm.innerHTML : ''\n    },\n  \tcontentSlot () {\n      return this.hasContentSlotData ? this.$slots.slideContent[0].elm.innerHTML : ''\n    }\n  }\n}\n</script>\n","<template lang=\"pug\">\ndiv.vueperslides(:class=\"{'vueperslides--ready': isReady, 'vueperslides--fade': conf.fade, 'vueperslides--parallax': conf.parallax, 'vueperslides--touchable': touch.enabled && !disable }\" ref=\"vueperslides\")\n  div.vueperslides__slide-content.vueperslides__slide-content--outside(:class=\"conf.slideContentOutsideClass\" v-if=\"conf.slideContentOutside\")\n    div.slide-title(v-if=\"slides.count && slides.list[slides.current].title\" v-html=\"slides.list[slides.current].title\")\n    div.slide-title(v-if=\"slides.count && slides.list[slides.current].titleSlot\" v-html=\"slides.list[slides.current].titleSlot\")\n    div.slide-content(v-if=\"slides.count && slides.list[slides.current].content\" v-html=\"slides.list[slides.current].content\")\n    div.slide-content(v-if=\"slides.count && slides.list[slides.current].contentSlot\" v-html=\"slides.list[slides.current].contentSlot\")\n\n  div.vueperslides__inner\n    div.vueperslides__parallax-wrapper(:style=\"'padding-bottom:' + (conf.slideRatio * 100) + '%'\")\n      div.vueperslides__track-wrapper(:style=\"trackWrapperStyles\")\n        div.vueperslides__track(:class=\"{'vueperslides__track--dragging': touch.dragging, 'vueperslides__track--mousedown': mouseDown}\" ref=\"track\" :style=\"!conf.fade ? 'transform: translateX(' + currentTranslation + '%)' : ''\")\n          vueper-slide.vueperslides__slide--clone(v-if=\"slides.count && clones[0]\" :clone=\"0\" :title=\"clones[0].title\" :content=\"clones[0].content\" :image=\"clones[0].image\" :style=\"clones[0].style\")\n            div(v-if=\"clones[0].titleSlot\" slot=\"slideTitle\" v-html=\"clones[0].titleSlot\")\n            div(v-if=\"clones[0].contentSlot\" slot=\"slideContent\" v-html=\"clones[0].contentSlot\")\n          slot(:currentSlide=\"slides.current\")\n          vueper-slide.vueperslides__slide--clone(v-if=\"slides.count && clones[1]\" :clone=\"1\" :title=\"clones[1].title\" :content=\"clones[1].content\" :image=\"clones[1].image\" :style=\"clones[1].style\")\n            div(v-if=\"clones[1].titleSlot\" slot=\"slideTitle\" v-html=\"clones[1].titleSlot\")\n            div(v-if=\"clones[1].contentSlot\" slot=\"slideContent\" v-html=\"clones[1].contentSlot\")\n\n    div.vueperslides__paused(v-if=\"$slots.pausedIcon\")\n      slot(name=\"pausedIcon\")\n    div.vueperslides__arrows(:class=\"{ 'vueperslides__arrows--outside': conf.arrowsOutside }\" v-if=\"conf.arrows && slides.count > 1 && !disable\")\n      button.vueperslides__arrow.vueperslides__arrow--prev(@click=\"onArrowClick(false)\" v-show=\"!arrowPrevDisabled\")\n        slot(name=\"arrowLeft\")\n          svg(viewBox=\"0 0 24 24\")\n            path(d=\"M16.2,21c0.3,0,0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L9.6,12L17,4.7c0.4-0.4,0.4-1,0-1.4c-0.4-0.4-1-0.4-1.4,0L6.8,12l8.8,8.7C15.7,20.9,16,21,16.2,21z\")\n      button.vueperslides__arrow.vueperslides__arrow--next(@click=\"onArrowClick()\" v-show=\"!arrowNextDisabled\")\n        slot(name=\"arrowRight\")\n          svg(viewBox=\"0 0 24 24\")\n            path(d=\"M7.8,21c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l7.4-7.3L7,4.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l8.8,8.7l-8.8,8.7C8.3,20.9,8,21,7.8,21z\")\n  div.vueperslides__bullets(:class=\"{ 'vueperslides__bullets--outside': conf.bulletsOutside }\" v-if=\"conf.bullets && slides.count > 1 && !disable\")\n    button.vueperslides__bullet(:class=\"{ 'vueperslides__bullet--active': slides.current === i }\" v-for=\"(item, i) in slides.list\" :key=\"i\" @click=\"goToSlide(i)\" @keyup.left=\"onArrowClick(false)\" @keyup.right=\"onArrowClick()\" ref=\"bullet\")\n      span {{ i + 1 }}\n</template>\n\n<script>\nimport VueperSlide from './VueperSlide.vue'\n\nexport default {\n  name: 'vueper-slides',\n  components: { VueperSlide },\n  props: {\n    initSlide: {\n      type: Number,\n      default: 1\n    },\n    slideRatio: {\n      type: Number,\n      default: 1/3\n    },\n    arrows: {\n      type: Boolean,\n      default: true\n    },\n    arrowsOutside: {\n      type: Boolean,\n      default: false\n    },\n    // Ability to disable arrows on slideshow edges. Only if not infinite mode.\n    disableArrowsOnEdges: {\n      type: [Boolean, String],\n      default: false\n    },\n    bullets: {\n      type: Boolean,\n      default: true\n    },\n    bulletsOutside: {\n      type: Boolean,\n      default: false\n    },\n    fade: {\n      type: Boolean,\n      default: false\n    },\n    slideContentOutside: {\n      type: Boolean,\n      default: false\n    },\n    slideContentOutsideClass: {\n      type: String,\n      default: ''\n    },\n    autoplay: {\n      type: Boolean,\n      default: false\n    },\n    speed: {\n      type: [Number, String],\n      default: 4000\n    },\n    pauseOnHover: {\n      type: Boolean,\n      default: true\n    },\n    infinite: {\n      type: Boolean,\n      default: true\n    },\n    parallax: {\n      type: [Boolean, Number],\n      default: false\n    },\n    touchable: {\n      type: Boolean,\n      default: true\n    },\n    // By default when touch is enabled you have to drag from a slide side and pass 50% of slideshow width to change\n    // slide. This setting changes this behavior to a horizontal pixel amount from anywhere on slideshow.\n    draggingDistance: {\n      type: Number,\n      default: null\n    },\n    disable: {\n      type: Boolean,\n      default: false\n    },\n    breakpoints: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  data: () => ({\n    isReady: false,\n    container: null,\n    slides: { list: [], count: 0, activeUid: null, current: 0, clones: [] },\n    clones: [],\n    mouseDown: false,\n    mouseOver: false,\n    touch: { enabled: true, dragging: false, dragStartX: 0, dragAmount: 0, goNext: true },\n    currentTranslation: 0,\n    timer: null,\n    arrowPrevDisabled: false,\n    arrowNextDisabled: false,\n    breakpointsData: { list: [], current: null },\n    parallaxData: { translation: 0, slideshowOffsetTop: null, isVisible: false },\n  }),\n  mounted () {\n    this.init()\n  },\n  methods: {\n    init () {\n      this.emit('before-init', false)\n      this.container = this.$refs.vueperslides\n      this.touch.enabled = this.conf.touchable\n\n      if (Object.keys(this.breakpoints).length) {\n        this.setBreakpointsList()\n        this.setBreakpointConfig(this.getCurrentBreakpoint())\n      }\n\n      if (this.conf.infinite && !this.conf.fade) {\n        this.cloneSlides()\n        this.$nextTick(() => this.cloneSlides())\n      }\n\n      this.goToSlide(this.conf.initSlide - 1)\n      this.bindEvents()\n\n      this.isReady = true\n      this.emit('ready')\n    },\n\n    // Emit a named event outside the component with 2 possible parameters:\n    // current slide info & next slide info.\n    emit(name, includeCurrentSlide = true, includeNextSlide = false) {\n      let args = [name]\n\n      if (includeCurrentSlide || typeof includeNextSlide === 'number') {\n        args[1] = {}\n        if (includeCurrentSlide && this.slides.activeUid) {\n          args[1].currentSlide = {\n            index: this.slides.current,\n            title: this.slides.list[this.slides.current].titleSlot ?\n                   this.slides.list[this.slides.current].titleSlot\n                   : this.slides.list[this.slides.current].title,\n            content: this.slides.list[this.slides.current].contentSlot ?\n                     this.slides.list[this.slides.current].contentSlot\n                     : this.slides.list[this.slides.current].content,\n          }\n        }\n        if (typeof includeNextSlide === 'number') {\n          let { nextSlide } = this.getSlideInRange(includeNextSlide)\n          args[1].nextSlide = {\n            index: nextSlide,\n            title: this.slides.list[nextSlide].titleSlot ?\n                   this.slides.list[nextSlide].titleSlot\n                   : this.slides.list[nextSlide].title,\n            content: this.slides.list[nextSlide].contentSlot ?\n                     this.slides.list[nextSlide].contentSlot\n                     : this.slides.list[nextSlide].content,\n          }\n        }\n      }\n\n      this.$emit(name, ...args)\n    },\n\n    setBreakpointsList () {\n      this.breakpointsData.list = [99999, ...Object.keys(this.breakpoints)].sort((a, b) => parseInt(a) < parseInt(b))\n    },\n\n    getCurrentBreakpoint () {\n      let windowWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth\n      let breakpoints = [windowWidth, ...this.breakpointsData.list].sort((a, b) => parseInt(a) < parseInt(b))\n\n      return this.breakpointsData.list[breakpoints.indexOf(windowWidth) - 1]\n    },\n\n    hasBreakpointChanged (breakpoint) {\n      return this.breakpointsData.current !== breakpoint\n    },\n\n    setBreakpointConfig (breakpoint) {\n      this.breakpointsData.current = breakpoint\n      // this.conf gets updated by itself when this.breakpointsData.current changes.\n    },\n\n    cloneSlides () {\n      let firstNodeIsVnode = this.$slots.default[0].tag\n      let firstSlide = this.$slots.default[firstNodeIsVnode ? 0 : 1].elm\n      let lastSlide = this.$slots.default[this.$slots.default.length - 1].elm\n\n      this.clones[0] = {\n        title: this.slides.list[this.slides.count - 1].title,\n        titleSlot: this.slides.list[this.slides.count - 1].titleSlot || '',\n        content: this.slides.list[this.slides.count - 1].content,\n        contentSlot: this.slides.list[this.slides.count - 1].contentSlot || '',\n        image: this.slides.list[this.slides.count - 1].image,\n        style: lastSlide && lastSlide.attributes.style ? lastSlide.attributes.style.value : ''\n      }\n      this.clones[1] = {\n        title: this.slides.list[0].title,\n        titleSlot: this.slides.list[0].titleSlot || '',\n        content: this.slides.list[0].content,\n        contentSlot: this.slides.list[0].contentSlot || '',\n        image: this.slides.list[0].image,\n        style: firstSlide && firstSlide.attributes.style ? firstSlide.attributes.style.value : ''\n      }\n    },\n\n    updateSlideContent (slideUID, key, value) {\n      this.slides.list.some(slide => {\n        if (slide._uid === slideUID) {\n          slide[key] = value\n        }\n\n        return slide._uid === slideUID\n      })\n    },\n\n    bindEvents () {\n      const hasTouch = 'ontouchstart' in window\n\n      // Touch enabled slideshow.\n      if (this.touch.enabled) {\n        this.$refs.track.addEventListener(hasTouch ? 'touchstart' : 'mousedown', this.onMouseDown)\n        document.addEventListener(hasTouch ? 'touchmove' : 'mousemove', this.onMouseMove)\n        document.addEventListener(hasTouch ? 'touchend' : 'mouseup', this.onMouseUp)\n      }\n\n      // Pause autoplay on mouseover.\n      if (this.conf.pauseOnHover && !hasTouch && this.conf.autoplay) {\n        this.container.addEventListener('mouseover', this.onMouseIn)\n        this.container.addEventListener('mouseout', this.onMouseOut)\n      }\n\n      // Breakpoints or parallax need a resize event.\n      if (this.breakpointsData.list.length || this.conf.parallax) {\n        window.addEventListener('resize', this.onResize)\n      }\n\n      // Parallax slideshow.\n      if (this.conf.parallax) {\n        document.addEventListener('scroll', this.onScroll)\n      }\n    },\n\n    // Recursively sum all the offsetTop values from current element up the tree until body.\n    // By doing so a padding or margin on a parent won't cause a wrong calculation.\n    getSlideshowOffsetTop (force = false) {\n      if (this.parallaxData.slideshowOffsetTop === null || force) {\n        let el = this.container\n        let top = el.offsetTop\n\n        while (el = el.offsetParent) {\n          top += el.offsetTop\n        }\n\n        this.parallaxData.slideshowOffsetTop = top\n      }\n\n      return this.parallaxData.slideshowOffsetTop\n    },\n\n    onScroll (e) {\n      let doc = document.documentElement\n      let scrollTop = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0)\n      let windowHeight = window.innerHeight || doc.clientHeight || document.body.clientHeight\n      let slideshowHeight = this.container.clientHeight\n      let slideshowTopOffset = this.getSlideshowOffsetTop()\n\n      // The distance between the bottom line of the current vueperslides slideshow and top of window.\n      // Negative value means the slideshow is totally above the current window box.\n      let vsBottom2WinTop = slideshowTopOffset + slideshowHeight - scrollTop\n      // The distance between the top line of the current vueperslides slideshow and bottom of window.\n      // Negative value means the slideshow is totally bellow the current window box.\n      let vsTop2winBottom = windowHeight + scrollTop - slideshowTopOffset\n\n      this.parallaxData.isVisible = vsBottom2WinTop > 0 && vsTop2winBottom > 0\n\n      // Only apply translation when slideshow is visible.\n      if (this.parallaxData.isVisible) {\n        let heightToCoverWithTranslation = windowHeight + slideshowHeight\n        let percentage = vsBottom2WinTop * 100 / heightToCoverWithTranslation\n        let translatePercentage = this.conf.parallax === -1 ? 100 - percentage : percentage\n        this.parallaxData.translation = - translatePercentage / 2\n      }\n    },\n\n    onResize () {\n      if (this.breakpointsData.list.length) {\n        let breakpoint = this.getCurrentBreakpoint()\n        if (this.hasBreakpointChanged(breakpoint)) {\n          this.setBreakpointConfig(breakpoint)\n        }\n      }\n\n      if (this.conf.parallax) {\n        // Only refresh parallaxData.slideshowOffsetTop value on resize for better performance.\n        this.getSlideshowOffsetTop(true)\n      }\n    },\n\n    onMouseIn () {\n      this.mouseOver = true\n\n      if (this.conf.pauseOnHover && this.conf.autoplay) {\n        this.clearTimer()\n      }\n    },\n\n    onMouseOut () {\n      this.mouseOver = false\n\n      if (this.conf.pauseOnHover && this.conf.autoplay) {\n        this.setTimer()\n      }\n    },\n\n    onMouseDown (e) {\n      if (!this.touch.enabled || this.disable) return\n      if (!e.touches) e.preventDefault()\n\n      // this.disableScroll()\n\n      this.mouseDown = true\n\n      if (this.draggingDistance) {\n        // Store drag start in var for distance calculation in onMouseUp().\n        this.touch.dragStartX = 'ontouchstart' in window ? e.touches[0].clientX : e.clientX\n      } else {\n        let dragPercentage = this.getDragPercentage(e)\n\n        // Set a flag for use while dragging in `onMouseMove` to know if drag was toward left or right.\n        this.touch.goNext = dragPercentage >= 0.5\n\n        this.currentTranslation = - 100 * (this.slides.current + (this.touch.goNext ? 1 : 0) + (this.clones.length ? 1 : 0) - dragPercentage)\n      }\n    },\n\n    onMouseMove (e) {\n      if (this.mouseDown || this.touch.dragging) {\n        this.mouseDown = false\n        this.touch.dragging = true\n\n        if (this.draggingDistance) {\n          this.touch.dragAmount = this.getDragAmount(e)\n          let dragAmountPercentage = this.touch.dragAmount / this.container.clientWidth\n\n          this.currentTranslation = - 100 * (this.slides.current + (this.clones.length ? 1 : 0) - dragAmountPercentage)\n        } else {\n          let dragPercentage = this.getDragPercentage(e)\n          this.currentTranslation = - 100 * (this.slides.current + (this.touch.goNext ? 1 : 0) + (this.clones.length ? 1 : 0) - dragPercentage)\n        }\n      }\n    },\n\n    onMouseUp (e) {\n      if (this.mouseDown || this.touch.dragging) {\n        this.mouseDown = false\n        this.touch.dragging = false\n\n        let slideOnDragEnd\n        if (this.draggingDistance) {\n          let dragAmount = this.touch.dragAmount\n          let dragAmountPercentage = dragAmount / this.container.clientWidth\n\n          slideOnDragEnd = this.slides.current\n          if (Math.abs(dragAmount) >= this.draggingDistance) {\n            slideOnDragEnd += dragAmount > 0 ? -1 : 1\n          }\n        } else {\n          // When the drag is realeased, calculate if the drag ends before or after the 50%-slideshow-width threshold.\n          // Then finish the sliding toward that slide.\n          slideOnDragEnd = - (Math.round(this.currentTranslation / 100) + (this.clones.length ? 1 : 0))\n        }\n\n        let { nextSlide } = this.getSlideInRange(slideOnDragEnd)\n\n        // If drag is not allowed (`arrowNextDisabled` = true) and dragging beyond last slide,\n        // cancel sliding and snap back to last slide.\n        if (this.arrowNextDisabled && this.conf.autoplay && nextSlide === 0) {\n          nextSlide = this.slides.count - 1\n        }\n\n        // Only call `goToSlide` if the drag ends on a slide that is different than the currentSlide.\n        if (nextSlide !== this.slides.current) {\n          this.goToSlide(slideOnDragEnd)\n        } else {\n          // Apply transition to snap back to current slide.\n          this.currentTranslation = - (this.slides.current + (this.clones.length ? 1 : 0)) * 100\n        }\n\n        this.touch.dragStartX = null\n        this.touch.dragAmount = null\n        this.enableScroll()\n      }\n    },\n\n    getDragPercentage (e) {\n      let dragStartX = 'ontouchstart' in window ? e.touches[0].clientX : e.clientX\n\n      // For full window width slideshow only.\n      // let windowWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth\n      // return dragStartX / windowWidth\n\n      return (dragStartX - this.container.offsetLeft) / this.container.clientWidth\n    },\n\n    /**\n     * Return the x distance in pixel between drag start and current drag position.\n     */\n    getDragAmount (e) {\n      return ('ontouchstart' in window ? e.touches[0].clientX : e.clientX) - this.touch.dragStartX\n    },\n\n    disableScroll () {\n      document.ontouchmove = function(e) {\n        e.preventDefault()\n      }\n    },\n\n    enableScroll () {\n      document.ontouchmove = function() {\n        return true\n      }\n    },\n\n    clearTimer () {\n      clearTimeout(this.timer)\n      this.timer = 0\n    },\n\n    setTimer () {\n      this.timer = setTimeout(() => {\n        this.goToSlide(this.slides.current + 1, true, true)\n      }, this.conf.speed)\n    },\n\n    onArrowClick (next = true) {\n      this.goToSlide(this.slides.current + (next ? 1 : -1))\n    },\n\n    getSlideInRange (i) {\n      let clone = null\n\n      // If infinite enabled, going out of range takes the first slide from the other end.\n      if (this.clones.length) {\n        if (i < 0) {\n          i = this.slides.count - 1\n          clone = 0\n        }\n        else if (i > this.slides.count - 1) {\n          i = 0\n          clone = 1\n        }\n      }\n\n      // If not infinite, can't go lower than 0 or beyond `slides.count` with `disableArrowsOnEdges`.\n      // If `disableArrowsOnEdges` is enabled going out of range will take first slide from the other end\n      // of the slideshow.\n      else {\n        if (i < 0) i = this.conf.disableArrowsOnEdges ? 0 : this.slides.count - 1\n        else if (i > this.slides.count - 1) {\n          // If autoplay is on but disableArrowsOnEdges is enabled, going beyond the last one will also bring\n          // the first one in.\n          i = this.conf.disableArrowsOnEdges ? (this.conf.autoplay ? 0 : this.slides.count - 1) : 0\n        }\n      }\n\n      return { nextSlide: i, clone: clone }\n    },\n\n    goToSlide (i, animation = true, autoSliding = false) {\n      if (!this.slides.count || this.disable) return\n\n      if (this.conf.autoplay) this.clearTimer()\n\n      let { nextSlide, clone: nextSlideIsClone } = this.getSlideInRange(i)\n\n      // First use of `goToSlide` is while init, so should not propagate an event.\n      if (this.isReady) this.emit('before-slide', true, nextSlide)\n\n      // Disable arrows if `disableArrowsOnEdges` is on and there is no slide to go to on that end.\n      if (this.conf.arrows && this.conf.disableArrowsOnEdges) {\n        this.arrowPrevDisabled = nextSlide === 0\n        this.arrowNextDisabled = nextSlide === this.slides.count - 1\n      }\n\n      this.$refs.track.classList[animation ? 'remove' : 'add']('vueperslides__track--no-animation')\n\n      // Infinite sliding with cloned slides:\n      // When reaching last slide and going next the cloned slide of the first slide\n      // shows up, when the animation ends the real change to the first slide is done\n      // immediately with no animation.\n      // Same principle when going beyond first slide.\n      if (nextSlideIsClone !== null) {\n        setTimeout(() => {\n          this.goToSlide(nextSlideIsClone ? 0 : this.slides.count - 1, false, autoSliding)\n        }, 400)\n      }\n\n      this.slides.current = nextSlide\n\n      // Only apply sliding transition when the slideshow animation type is `slide`.\n      if (!this.conf.fade) {\n        if (nextSlideIsClone !== null) {\n          this.currentTranslation = - 100 * (nextSlideIsClone ? this.slides.count + 1 : 0)\n        }\n        else this.currentTranslation = - 100 * (this.slides.current + (this.clones.length ? 1 : 0))\n      }\n\n      this.slides.activeUid = this.slides.list[this.slides.current]._uid\n\n      if (this.conf.autoplay && !this.mouseOver) {\n        this.setTimer()\n      }\n\n      if (this.slides.count) {\n        if (this.$slots.default[this.slides.current]) {\n          // First use of goToSlide is while init, so should not propagate an event.\n          if (this.isReady) this.emit('slide')\n        }\n\n        if (this.isReady && !autoSliding && this.$refs.bullet[this.slides.current]) {\n          this.$refs.bullet[this.slides.current].focus()\n        }\n      }\n    },\n\n    addSlide (newSlide) {\n      const needReclone = this.conf.infinite && !this.conf.fade && this.isReady && newSlide.clone === null\n\n      if (newSlide.clone !== null) {\n        this.clones[newSlide.clone] = newSlide\n      }\n\n      else {\n        // Add the slide in the slides array & update slides.count.\n        this.slides.list.push(newSlide)\n        this.slides.count = this.slides.list.length\n      }\n\n      if (this.slides.count > 1 && this.touchable) {\n        this.touch.enabled = true\n      }\n\n      // cloneSlides() is called at the end of init so calling it before would be redundant.\n      if (needReclone) {\n        this.$nextTick(() => this.cloneSlides())\n      }\n    },\n\n    removeSlide (uid) {\n      let needReclone = false\n\n      this.slides.list.some((slide, i) => {\n        if (slide._uid === uid) {\n          // Remove the slide.\n          this.slides.list.splice(i, 1)\n          this.slides.count = this.slides.list.length\n\n          // If the slide to remove is the current slide, slide to the previous slide.\n          if (uid === this.slides.activeUid) {\n            this.slides.activeUid = null\n            this.goToSlide(i - 1, true, true)\n          }\n\n          if (this.slides.count <= 1) {\n            this.touch.enabled = false\n          }\n\n          if (this.clones.length && this.isReady && !slide.clone) needReclone = true\n\n          return true // Break the `Array.some` loop.\n        }\n      })\n\n      if (this.slides.count && needReclone) {\n        this.cloneSlides()\n      }\n    }\n  },\n\n  computed: {\n    // this.conf needs to be reactive so user can change a Vueper Slides option and everything gets updated.\n    conf () {\n      // Read config from the props then check if breakpoints are defined. If so override the config with\n      // the breakpoint ones.\n      return {\n        ...this.$props,\n        ...(this.$props.breakpoints && this.$props.breakpoints[this.breakpointsData.current] || {})\n      }\n    },\n    trackWrapperStyles () {\n      let styles = {}\n\n      if (this.conf.parallax) {\n        styles.transform = 'translateY(' + this.parallaxData.translation + '%)'\n\n        // Increase browser optimizations by allocating more machine resource.\n        //!\\ To be used wisely so deactivate when not needed.\n        styles.willChange = this.parallaxData.isVisible ? 'transform' : 'auto'\n      }\n\n      return styles\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.vueperslides {\n  position: relative;\n\n  &__inner {\n    position: relative;\n    user-select: none;\n    -webkit-user-select: none;\n    -webkit-touch-callout: none;\n  }\n\n  &__parallax-wrapper {\n    position: relative;\n    padding-bottom: 33.33%;\n    overflow: hidden;\n\n    &::before,\n    &::after {\n      content: \"\";\n      position: absolute;\n      bottom: 100%;\n      left: -1em;\n      right: -1em;\n      height: 2em;\n      box-shadow: 0 0 20px rgba(#000, 0.25);\n      z-index: 2;\n    }\n\n    &::after {\n      top: 100%;\n      bottom: auto;\n    }\n  }\n\n  &__track-wrapper {\n    position: absolute;\n    top: 0;\n    height: 100%;\n    left: 0;\n    right: 0;\n    overflow: hidden;\n    z-index: 1;\n  }\n\n  &--parallax &__track-wrapper {\n    height: 200%;\n    transform: translateY(0);\n  }\n\n  &--fade &__track {\n    white-space: normal;\n    transition: none;\n  }\n\n  &--touchable &__track {\n    cursor: ew-resize;\n    cursor: -webkit-grab;\n    cursor: grab;\n\n    &--mousedown, &--dragging {\n      cursor: -webkit-grabbing;\n      cursor: grabbing;\n    }\n  }\n\n  &__track {\n    white-space: nowrap;\n    transition: 0.5s ease-in-out transform;\n    height: 100%;\n\n    &--mousedown {\n      transition: 0.2s ease-in-out transform;\n    }\n\n    &--dragging {\n      transition: none;\n    }\n\n    &--no-animation {\n      transition-duration: 0s;\n    }\n  }\n\n  &__slide {\n    white-space: normal;\n    background-position: top;\n    background-size: cover;\n    display: inline-block;\n    width: 100%;\n    height: 100%;\n  }\n\n  &--fade &__slide {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    opacity: 0;\n    transition: .8s ease-in-out opacity;\n\n    &--active {\n      z-index: 1;\n      opacity: 1;\n    }\n  }\n\n  &__arrows {\n    color: #fff;\n\n    &--outside {\n      color: #000;\n    }\n  }\n\n  &__arrow {\n    position: absolute;\n    top: 50%;\n    background-color: transparent;\n    border: none;\n    fill: currentColor;\n    font-size: 3em;\n    width: 1em;\n    text-align: center;\n    transform: translateY(-50%);\n    opacity: 0.7;\n    transition: 0.3s ease-in-out;\n    cursor: pointer;\n    user-select: none;\n    outline: none;\n    z-index: 2;\n\n    &--prev {\n      left: 10px;\n    }\n\n    &--next {\n      right: 10px;\n    }\n\n    &:hover {\n      opacity: 1;\n    }\n  }\n\n  &__arrows--outside &__arrow--prev {\n    left: -40px;\n  }\n\n  &__arrows--outside &__arrow--next {\n    right: -40px;\n  }\n\n  &__paused {\n    position: absolute;\n    top: 3%;\n    right: 3%;\n    opacity: 0;\n    transition: 0.3s ease-in-out;\n    text-shadow: 0 0 3px rgba(#000, .4);\n    z-index: 1;\n  }\n\n  &:hover &__paused {\n    opacity: 1;\n  }\n\n  &__bullets {\n    display: flex;\n    justify-content: center;\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n\n    &--outside {\n      position: relative;\n    }\n  }\n\n  &__bullet {\n    width: 12px;\n    height: 12px;\n    border-radius: 12px;\n    border: 1px solid #fff;\n    background-color: transparent;\n    box-shadow: 0 0 1px rgba(#000, 0.5), 0 0 3px rgba(#000, 0.3);\n    margin: 1.5em 0.6em;\n    padding: 0;\n    display: inline-block;\n    cursor: pointer;\n    user-select: none;\n    outline: none;\n    z-index: 2;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    &--active {\n      background-color: #fff;\n    }\n\n    &::-moz-focus-inner {\n      border: 0;\n    }\n\n    span {\n      display: none;\n    }\n  }\n}\n</style>\n","import VueperSlides from './components/VueperSlides.vue'\nimport VueperSlide from './components/VueperSlide.vue'\n\n// Expose component to global scope.\nif (typeof window !== 'undefined' && window.Vue) {\n  window.Vue.component('vueper-slides', VueperSlides)\n  window.Vue.component('vueper-slide', VueperSlide)\n}\n\nexport { VueperSlides, VueperSlide }\n"],"names":["render","Number","String","hasTitleSlotData","$parent","updateSlideContent","_uid","titleSlot","hasContentSlotData","contentSlot","addSlide","image","title","content","clone","removeSlide","backgroundImage","$slots","slideTitle","slideContent","elm","innerHTML","VueperSlide","Boolean","Object","list","count","activeUid","current","clones","enabled","dragging","dragStartX","dragAmount","goNext","translation","slideshowOffsetTop","isVisible","init","emit","container","$refs","vueperslides","touch","conf","touchable","keys","breakpoints","length","setBreakpointsList","setBreakpointConfig","getCurrentBreakpoint","infinite","fade","cloneSlides","$nextTick","goToSlide","initSlide","bindEvents","isReady","name","includeCurrentSlide","includeNextSlide","args","slides","currentSlide","getSlideInRange","nextSlide","$emit","breakpointsData","sort","a","b","parseInt","windowWidth","window","innerWidth","document","documentElement","clientWidth","body","indexOf","breakpoint","firstNodeIsVnode","default","tag","firstSlide","lastSlide","attributes","style","value","slideUID","key","some","slide","hasTouch","track","addEventListener","onMouseDown","onMouseMove","onMouseUp","pauseOnHover","autoplay","onMouseIn","onMouseOut","parallax","onResize","onScroll","force","parallaxData","el","top","offsetTop","offsetParent","e","doc","scrollTop","pageYOffset","clientTop","windowHeight","innerHeight","clientHeight","slideshowHeight","slideshowTopOffset","getSlideshowOffsetTop","vsBottom2WinTop","vsTop2winBottom","heightToCoverWithTranslation","percentage","translatePercentage","hasBreakpointChanged","mouseOver","clearTimer","setTimer","disable","touches","preventDefault","mouseDown","draggingDistance","clientX","dragPercentage","getDragPercentage","currentTranslation","getDragAmount","dragAmountPercentage","slideOnDragEnd","Math","abs","round","arrowNextDisabled","enableScroll","offsetLeft","ontouchmove","timer","setTimeout","speed","next","i","disableArrowsOnEdges","animation","autoSliding","nextSlideIsClone","arrows","arrowPrevDisabled","classList","bullet","focus","newSlide","needReclone","push","uid","splice","$props","styles","transform","willChange","Vue","component","VueperSlides"],"mappings":"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"}